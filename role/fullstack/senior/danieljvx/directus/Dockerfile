FROM directus/directus:latest

ARG KEY
ARG SECRET
ARG ADMIN_EMAIL
ARG ADMIN_PASSWORD
ARG DB_CLIENT
ARG DB_HOST=mysql
ARG DB_PORT
ARG DB_DATABASE
ARG DB_USER
ARG DB_PASSWORD

ENV KEY=DIRECTUS_AUTH_PUBLICKEY
ENV SECRET=DIRECTUS_AUTH_SECRETKEY
ENV ADMIN_EMAIL=DIRECTUS_ADMIN_EMAIL
ENV ADMIN_PASSWORD=DIRECTUS_ADMIN_PASS
ENV DB_CLIENT=DB_TYPE
ENV DB_HOST=mysql
ENV DB_PORT=DB_PORT
ENV DB_DATABASE=DB_DATABASE
ENV DB_USER=DB_USER
ENV DB_PASSWORD=DB_PASSWORD
ENV DB_CHARSET=utf8mb4
ENV CORS_ENABLED=true

EXPOSE 8055